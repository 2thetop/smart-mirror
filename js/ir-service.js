(function() {
    'use strict';

    function HomeAssistantService($http) {
        var IR_BASE = "http://192.168.1.24/messages"
        var service = {};

        //Turn the projector on
        service.projectorOn = function() {
            $http.post(HUE_BASE, '{"format":"raw","freq":38,"data":[17421,8755,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,3228,1150,1002,1150,65535,0,23743,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4251,1190,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1190]}')
            .success(function (data, status, headers) {
                console.log(data);
            })
        }

        // "Press" the power button twice to turn the power off
        service.projectorOff = function() {
            $http.post(HUE_BASE, '{"format":"raw","freq":38,"data":[17421,8755,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,3228,1150,1002,1150,65535,0,23743,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4251,1190,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1190]}')
            .success(function (data, status, headers) {
                console.log(data);
            })
            $http.post(HUE_BASE, '{"format":"raw","freq":38,"data":[17421,8755,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,1002,1150,1002,1150,1002,1150,1002,1150,3228,1150,1002,1150,1002,1150,1002,1150,3228,1150,3228,1150,3228,1150,3228,1150,1002,1150,65535,0,23743,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4251,1190,65535,0,65535,0,60108,17421,4251,1150,65535,0,65535,0,60108,17421,4400,1150,65535,0,65535,0,60108,17421,4251,1190]}')
            .success(function (data, status, headers) {
                console.log(data);
            })
        }

        //Lower the projector screen
        service.screenDown = function() {
            $http.post(HUE_BASE, '{"format":"raw","freq":38,"data":[843,2718,2718,968,2626,968,2626,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,2718,843]}')
            .success(function (data, status, headers) {
                console.log(data);
            })
        }

        //Raise the projector screen
        service.screenUp = function() {
            $http.post(HUE_BASE, '{"format":"raw","freq":38,"data":[843,2718,2718,968,2626,968,2626,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843,26325,843,2718,2718,968,2718,968,2718,968,843,2718,2718,968,843,2718,843,2718,2718,968,2626,968,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,843,2718,2718,968,843,2718,843]}')
            .success(function (data, status, headers) {
                console.log(data);
            })
        }
        
        return service;
    }

    angular.module('SmartMirror').factory('HomeAssistantService', HomeAssistantService);
}());